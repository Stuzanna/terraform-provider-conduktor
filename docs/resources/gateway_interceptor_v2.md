---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "conduktor_gateway_interceptor_v2 Resource - conduktor"
subcategory: ""
description: |-
  
---

# conduktor_gateway_interceptor_v2 (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the interceptor, must be unique, act as ID for import

### Optional

- `scope` (Block, Optional) (see [below for nested schema](#nestedblock--scope))
- `spec` (Block, Optional) (see [below for nested schema](#nestedblock--spec))

<a id="nestedblock--scope"></a>
### Nested Schema for `scope`

Optional:

- `group` (String) The name of the group the interceptor will be applied to. Optional parameter to helps defining the scope
- `username` (String) The username the interceptor will be applied to. Optional parameter to helps defining the scope
- `vcluster` (String) The name of the virtual cluster the interceptor will be applied to. Optional parameter to help defining the scope


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- `comment` (String) An optional comment for the interceptor.
- `config` (Attributes) (see [below for nested schema](#nestedatt--spec--config))
- `plugin_class` (String) The class of the plugin
- `priority` (Number) The priority of the interceptor. Must be bigger than 0

<a id="nestedatt--spec--config"></a>
### Nested Schema for `spec.config`

Optional:

- `enable_audit_log_on_error` (Boolean) Flag to enable audit log when error happens.
- `external_storage` (Boolean) Flag to store encryption settings externally in a topic.
- `kms_config` (Attributes) Configuration for using external Key Management Systems (KMS). (see [below for nested schema](#nestedatt--spec--config--kms_config))
- `record_header` (Attributes) Configuration for encrypting the record headers. (see [below for nested schema](#nestedatt--spec--config--record_header))
- `record_key` (Attributes) Configuration for encrypting the record key, you can either configure to encrypt the whole payload, or per field level. (see [below for nested schema](#nestedatt--spec--config--record_key))
- `record_value` (Attributes) Configuration for encrypting the record value, you can either configure to encrypt the whole payload, or per field level. (see [below for nested schema](#nestedatt--spec--config--record_value))
- `schema_data_mode` (String) Defines whether to preserve Avro schema format or convert to JSON.
- `schema_registry_config` (Attributes) Configuration for Schema Registry to handle Avro, JSON, and Protobuf records. (see [below for nested schema](#nestedatt--spec--config--schema_registry_config))
- `topic` (String) Topics that match this regex will have the interceptor applied. Defaults to all.

<a id="nestedatt--spec--config--kms_config"></a>
### Nested Schema for `spec.config.kms_config`

Optional:

- `aws` (Attributes) Configuration for using AWS Key Management System. (see [below for nested schema](#nestedatt--spec--config--kms_config--aws))
- `azure` (Attributes) Configuration for using Azure Key Vault as a Key Management System. (see [below for nested schema](#nestedatt--spec--config--kms_config--azure))
- `gcp` (Attributes) Configuration for using Google Cloud Platform Key Management System. (see [below for nested schema](#nestedatt--spec--config--kms_config--gcp))
- `key_ttl_ms` (Number) The time-to-live for encryption keys in milliseconds. Set to 0 to disable caching.
- `vault` (Attributes) Configuration for using HashiCorp Vault as a Key Management System. (see [below for nested schema](#nestedatt--spec--config--kms_config--vault))

<a id="nestedatt--spec--config--kms_config--aws"></a>
### Nested Schema for `spec.config.kms_config.aws`

Optional:

- `basic_credentials` (Attributes) AWS basic access credentials (see [below for nested schema](#nestedatt--spec--config--kms_config--aws--basic_credentials))
- `session_credentials` (Attributes) AWS session-based credentials (see [below for nested schema](#nestedatt--spec--config--kms_config--aws--session_credentials))

<a id="nestedatt--spec--config--kms_config--aws--basic_credentials"></a>
### Nested Schema for `spec.config.kms_config.aws.basic_credentials`

Required:

- `access_key` (String, Sensitive) The AWS access key
- `secret_key` (String, Sensitive) The AWS secret key


<a id="nestedatt--spec--config--kms_config--aws--session_credentials"></a>
### Nested Schema for `spec.config.kms_config.aws.session_credentials`

Optional:

- `access_key` (String, Sensitive) The AWS access key for the session
- `secret_key` (String, Sensitive) The AWS secret key for the session
- `session_token` (String, Sensitive) The AWS session token



<a id="nestedatt--spec--config--kms_config--azure"></a>
### Nested Schema for `spec.config.kms_config.azure`

Optional:

- `retry_policy` (Attributes) Azure retry policy for failed key management operations (see [below for nested schema](#nestedatt--spec--config--kms_config--azure--retry_policy))
- `token_credential` (Attributes) Azure token-based authentication credentials (see [below for nested schema](#nestedatt--spec--config--kms_config--azure--token_credential))
- `username_password_credential` (Attributes) Azure username/password-based authentication credentials (see [below for nested schema](#nestedatt--spec--config--kms_config--azure--username_password_credential))

<a id="nestedatt--spec--config--kms_config--azure--retry_policy"></a>
### Nested Schema for `spec.config.kms_config.azure.retry_policy`

Optional:

- `delay_ms` (Number) Initial delay between retries in milliseconds
- `max_delay_ms` (Number) Maximum delay between retries in milliseconds
- `max_retries` (Number) Maximum number of retry attempts for failed operations


<a id="nestedatt--spec--config--kms_config--azure--token_credential"></a>
### Nested Schema for `spec.config.kms_config.azure.token_credential`

Required:

- `client_id` (String) Azure Client ID for authentication
- `client_secret` (String, Sensitive) Azure Client Secret for authentication
- `tenant_id` (String) Azure Tenant ID for authentication


<a id="nestedatt--spec--config--kms_config--azure--username_password_credential"></a>
### Nested Schema for `spec.config.kms_config.azure.username_password_credential`

Required:

- `client_id` (String) Azure Client ID for authenticationg
- `password` (String, Sensitive) Azure password for authentication
- `tenant_id` (String) Azure Tenant ID for authentication
- `username` (String) Azure username for authentication



<a id="nestedatt--spec--config--kms_config--gcp"></a>
### Nested Schema for `spec.config.kms_config.gcp`

Optional:

- `service_account_credentials_file_path` (String) File path to the GCP service account credentials JSON file.


<a id="nestedatt--spec--config--kms_config--vault"></a>
### Nested Schema for `spec.config.kms_config.vault`

Required:

- `type` (String) Type of the authentication for hashicorp vault, valid values are: APP_ROLE, LDAP, AWS_EC2_PKCS7, GCP, GITHUB, JWT, AWS_IAM, AWS_EC2, TOKEN, KUBERNETES, USERNAME_PASSWORD

Optional:

- `aws_auth_mount` (String) Custom authentication mount point for AWS EC2.
- `github_auth_mount` (String) Custom authentication mount point for GitHub authentication.
- `iam_request_body` (String) AWS IAM request body for authentication.
- `iam_request_headers` (String) AWS IAM request headers for authentication.
- `iam_request_url` (String) AWS IAM request URL for authentication.
- `identity` (String) AWS EC2 identity document for authentication.
- `jwt` (String, Sensitive) JWT token for GCP and JWT authentication.
- `ldap_auth_mount` (String) Custom authentication mount point for LDAP authentication.
- `namespace` (String) Namespace for Vault
- `nonce` (String) nonce for aws ec2 authentication.
- `password` (String, Sensitive) Password for LDAP Vault authentication.
- `path` (String) Custom path for AppRole authentication.
- `pkcs7` (String, Sensitive) PKCS7 signature for AWS EC2 authentication.
- `provider` (String) JWT provider for Vault authentication.
- `role` (String) Role for AWS, GCP and JWT Vault authentication.
- `role_id` (String) AppRole Role ID for Vault authentication.
- `secret_id` (String, Sensitive) AppRole Secret ID for Vault authentication.
- `signature` (String) AWS EC2 identity signature for authentication.
- `token` (String, Sensitive) GitHub personal access token for Vault authentication.
- `uri` (String) The URI of the Vault server.
- `username` (String) Username for LDAP Vault authentication.
- `userpass_auth_mount` (String) Custom authentication mount point for username/password authentication.
- `version` (Number) The version of the Vault engine.



<a id="nestedatt--spec--config--record_header"></a>
### Nested Schema for `spec.config.record_header`

Optional:

- `header` (String) Pattern to match headers that need encryption
- `header_config` (Attributes) The encryption configuration for the matching headers (see [below for nested schema](#nestedatt--spec--config--record_header--header_config))

<a id="nestedatt--spec--config--record_header--header_config"></a>
### Nested Schema for `spec.config.record_header.header_config`

Required:

- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.

Optional:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `header_fields` (Attributes Set) Set of all the fields config entry (see [below for nested schema](#nestedatt--spec--config--record_header--header_config--header_fields))
- `type` (String) URL of the schema registry.

<a id="nestedatt--spec--config--record_header--header_config--header_fields"></a>
### Nested Schema for `spec.config.record_header.header_config.header_fields`

Required:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `field_name` (String) The name of the field to be encrypted. It can be a nested structure using dot notation like 'education.account.username'.
- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.




<a id="nestedatt--spec--config--record_key"></a>
### Nested Schema for `spec.config.record_key`

Required:

- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.

Optional:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `key_fields` (Attributes Set) Set of all the fields config entry (see [below for nested schema](#nestedatt--spec--config--record_key--key_fields))
- `type` (String) URL of the schema registry.

<a id="nestedatt--spec--config--record_key--key_fields"></a>
### Nested Schema for `spec.config.record_key.key_fields`

Required:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `field_name` (String) The name of the field to be encrypted. It can be a nested structure using dot notation like 'education.account.username'.
- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.



<a id="nestedatt--spec--config--record_value"></a>
### Nested Schema for `spec.config.record_value`

Required:

- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.

Optional:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `type` (String) URL of the schema registry.
- `value_fields` (Attributes Set) Set of all the fields config entry (see [below for nested schema](#nestedatt--spec--config--record_value--value_fields))

<a id="nestedatt--spec--config--record_value--value_fields"></a>
### Nested Schema for `spec.config.record_value.value_fields`

Required:

- `algorithm` (String) The encryption algorithm used for encrypting data. Defaults to AES128_GCM if not specified.
- `field_name` (String) The name of the field to be encrypted. It can be a nested structure using dot notation like 'education.account.username'.
- `key_secret_id` (String) The unique identifier for the encryption key. This key can be stored in an external Key Management System (KMS) or in memory.



<a id="nestedatt--spec--config--schema_registry_config"></a>
### Nested Schema for `spec.config.schema_registry_config`

Required:

- `host` (String) URL of the schema registry.

Optional:

- `additional_configs` (Map of String) Additional properties mapped to specific security-related parameters. For enhanced security, use environment variable templates like ${MY_ENV_VAR}.
- `cache_size` (Number) This interceptor caches schemas locally so that it doesn't have to query the schema registry.
